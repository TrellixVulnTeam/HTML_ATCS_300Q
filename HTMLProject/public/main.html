<!DOCTYPE html>
<html>
	<h1>Online Computer Parts Store</h1>
	<head>
		<script id=products type=text/javascript src="products.js"></script>
		<script>
			function updateSearchSuggestions(query) {
				var categories = JSON.parse(productData)["categories"];
				var suggestions = [];
				if(query.length > 0) {
					for(var category in categories) {
						for(var product in categories[category]) {
							if(product.toLowerCase().indexOf(query.toLowerCase()) != -1) {
								suggestions.push(product);
							}
						}
					}
				}
				displaySearchSuggestions(suggestions);
			}
			function displaySearchSuggestions(suggestions) {
				var element = document.getElementById("searchSuggestions");
				if (suggestions.length == 0) {
					element.innerHTML = "";
					element.style = "display: none";
				} else {
					element.innerHTML = "";
					for(suggestion in suggestions) {
						element.innerHTML += "<a>" + suggestions[suggestion] + "</a>" + "<br>";
					}
					element.style = "display: block";
				}
			}
			function start() {
				var categories = JSON.parse(productData)["categories"];
				var element = document.getElementById("tabs");
				element.innerHTML = "";
				for(var category in categories) {
					element.innerHTML += "<a href=\"#\" onclick=\"switchCategory(&quot;" + category + "&quot;);\">" + category + "</a>";
				}
			}
			function switchCategory(name) {
				var categories = JSON.parse(productData)["categories"];
				var products = categories[name];
				var element = document.getElementById("main");
				element.innerHTML = "";
				for(var product in products) {
					var price = products[product];
					element.innerHTML += "<a>" + "$" + price.toFixed(2) + " -- " + product + "</a>" + "<br>";
				}
			}
		</script>
	</head>
	<body onload="start()">
		<style>
			.topnav{
			overflow: hidden;
			background-color: #BFBFBF;
			}

			.topnav a{
			float: left;
			display: block;
			color: black;
			text-align: center;
			padding: 14px 16px;
			text-decoration: none;
			font-size: 17px;
			}

			.topnav a:hover{
			background-color: #DFDFDF;
			}


			.search-form{
			float: right
			}
			.
			.search-form input[type=text]{
			padding: 6px;
			margin-top: 8px;
			font-size: 17px;
			}

			.search-form button{
			padding: 6px 10px;
			margin-top: 8px;
			margin-right: 8px;
			background-color: #CFCFCF;
			font-size: 17px;
			border: none;
			}

			.search-form button:hover{
			cursor:pointer;
			background-color: #DFDFDF;
			}

			.selected{
			overflow: hidden;
			background-color: #FF8080;
			}

			.selected a{
			float: left;
			display: block;
			color: black;
			text-align: center;
			padding: 14px 16px;
			text-decoration: none;
			font-size: 17px;
			}
			
			.suggestions-div{
			display: none;
			float: right;
			background-color: #DFDFDF;
			padding: 5px;
			position: absolute;
			top: 115px;
			right: 67px;
			font-size: 12px;
			}
			
			.suggestions-div a:hover{
			cursor: pointer;
			background-color: #CFCFCF;
			}

		</style>
		<div class=topnav>
			<div class=tabs id=tabs>
			</div>
			<form class=search-form>
					<input type=text id=search-text oninput="updateSearchSuggestions(this.value)" onfocus="updateSearchSuggestions(this.value)" placeholder="search">
					<button onclick="alert(&quot;Search results page is not implemented...&quot;);">
						GO
					</button>
			</form>
		</div>
		<div class=suggestions-div id=searchSuggestions>
		</div>
		<main id=main>
			Welcome!
		</main>
	</body>
</html>
