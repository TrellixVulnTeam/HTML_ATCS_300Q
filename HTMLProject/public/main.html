<!DOCTYPE html>
<html>
	<head>
		<script id=products type=text/javascript src="products.js"></script>
		<script>
			function updateSearchSuggestions(query) {
				var products = JSON.parse(productData);
				//alert(products["categories"]["SSDs"]["Samsung 850 EVO 250GB 2.5-Inch SATA III Internal SSD"]);
				var suggestions = [];
				if(query.length > 0) {
					for(var categories in products) {
						for(var category in categories) {
							for(var product in category) {
								alert(product);
								if(product.indexOf(query) != -1) {
									alert(product);
									suggestions.push(product);
								}
							}
						}
					}
				}
				displaySearchSuggestions(suggestions);
			}
			function displaySearchSuggestions(suggestions) {
				var element = document.getElementById("searchSuggestions");
				if (suggestions.length == 0) {
					element.innerHTML = "";
					element.style = "display: none";
				} else {
					element.innerHTML = "";
					for(suggestion in suggestions) {
						element.innerHTML += "<a>" + suggestions[suggestion] + "</a>" + "<br>";
					}
					element.style = "display: block";
				}
			}
		</script>
	</head>
	<body>
		<style>
			.topnav{
			overflow: hidden;
			background-color: #BFBFBF;
			}

			.topnav a{
			float: left;
			display: block;
			color: black;
			text-align: center;
			padding: 14px 16px;
			text-decoration: none;
			font-size: 17px;
			}

			.topnav a:hover{
			background-color: #DFDFDF;
			}


			.search-form{
			float: right
			}
			.
			.search-form input[type=text]{
			padding: 6px;
			margin-top: 8px;
			font-size: 17px;
			}

			.search-form button{
			padding: 6px 10px;
			margin-top: 8px;
			margin-right: 16px;
			background-color: #CFCFCF;
			font-size: 17px;
			border: none;
			}
			
			.search-form button:hover{
			cursor:pointer;
			}

			.selected{
			overflow: hidden;
			background-color: #FF8080;
			}

			.selected a{
			float: left;
			display: block;
			color: black;
			text-align: center;
			padding: 14px 16px;
			text-decoration: none;
			font-size: 17px;
			}
			
			.suggestions-div{
			display: none;
			float: right;
			background-color: #DFDFDF;
			padding: 5px;
			position: absolute;
			top: 44px;
			right: 187px;
			}

		</style>
		<div class=topnav>
			<a class=selected href="">PAGE1</a>
			<a href="page2.html">PAGE2</a>
			<a href="">PAGE3</a>
			<a href="">PAGE4</a>
			<form class=search-form>
					<input type=text id=search-text oninput="updateSearchSuggestions(this.value)" onfocus="updateSearchSuggestions(this.value)" placeholder="search">
					<button onclick="">
						GO
					</button>
			</form>
		</div>
		<div class=suggestions-div id=searchSuggestions>
		</div>
		<main>
		main
		</main>
	</body>
</html>
